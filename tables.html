<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>

<head>
<title>Tree test</title>
<meta http-equiv="content-type" content="text/html; charset=Windows-1250">
<meta http-equiv="content-language" content="cs">
<link href="css/treemenu.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="js/xt.js"></script>
<script type="text/javascript" src="js/xttables.js"></script>
<script type="text/javascript" src="fb/firebug.js"></script>
<style type="text/css">

body {
	font-family: Tahoma, Arial;
	font-size: smaller;
}

#progress {
	color: black;
	padding: 4px;
	padding-left: 26px;
	border: 2px solid #CC3333;
	background: #FCE0E1 url(images/indicator.gif) no-repeat 6px center;
	visibility: hidden;
	display: block;
	position: absolute;
	left: 20px;
	top: 20px;
}
tr,td {
	font-size: 90%;
}

.xTTables {
	border: 1px dotted blue;
	color: navy;
	margin: -2px -1px -2px -1px;
	background-color: #FEEFEE;
	width: 100%;
}

</style>

<script language="javascript">
xT.OnStartTransfers = function () { $('progress').style.visibility = "visible" }
xT.OnTransfersComplete = function () { $('progress').style.visibility = "hidden" }

var testData = {
	getRowId : function(e) { return e.parentNode.firstChild.innerHTML },
	1 : {
		type : 'input',
		name : 'popis'
	 },
	2 : {
		type : 'select',
		name : 'typ',
		values : {
			1 : 'aaa',
			2 : 'bbb',
			3 : 'ccc',
			jina : 'Další hodnoty'
		}
	}
}

var jinaData = {
	0 : {
		type : 'input',
		name : 'kod'
	 },
	1 : {
		type : 'textarea',
		name : 'popis'
	 },
	2 : {
		type : 'button',
		name : 'info',
		click : function(e) {
		  // smazání položky
		  // xT.request('postdata.php')
		  // e = TD, je tøeba vylézt na pøedka TD -> TR -> TABLE a odebrat TD -> TR (celou øádku)
		  e.parentNode.parentNode.removeChild(e.parentNode);
		}
	 }

}

xT.Tables.Editors.button = {
  className: 'xTTables edButton',
  getEditor : function(elm, def) {
    elm.innerHTML = '<button class="'+this.className+'">' + elm.innerHTML + '</button>';
    e = elm.firstChild;
    e.onclick = function(ev) { this.blur(); def.click(elm) }
    return e;
  },
  getValue : function(edit) {
    return [0, edit.innerHTML];
  }
} // buttons

</script>

</head>

<body>
<div id="progress" class="load">Saving...</div>

<table id="test" onclick="return xT.Tables.click(testData, event)" onmousemove="return xT.Tables.mouseOver(testData, event)" border="1" cellpadding="1">
<colgroup>
<col>
<col width="600">
<col width="100">
</colgroup>
<tr><th>Kód</th><th>Popis</th><th>Typ</th></tr>
<tr><td>1</td><td>popis</td><td>aaa</td></tr>
<tr><td>2</td><td>popis další</td><td>bbb</td></tr>
<tr><td>3</td><td>popis jiný</td><td>ccc</td></tr>
</table>
<br/>

<table id="jina" onclick="return xT.Tables.click(jinaData, event)"  onmousemove="return xT.Tables.mouseOver(jinaData, event)" border="1" cellpadding="1">
<colgroup>
<col width="100">
<col width="300">
<col width="100" align="right">
</colgroup>
<tr><th>kod</th><th>popis</th><th>Další info</th></tr>
<tr id="a"><td>ABC</td><td>aaabbbccc</td><td>Smazat</td></tr>
<tr id="b"><td>DEF</td><td>dddeeefff</td><td>Smazat</td></tr>
<tr id="c"><td>IJK</td><td>iiijjjkkk</td><td>Smazat</td></tr>
</table>
<br /><br /><br /><br /><br />
<button onclick="$('stest').focus()">Test Test</button>
<select id="stest">
<option>První volba</option>
<option>Druhá volba</option>
<option>Další</option>
</select>
</body>
</html>